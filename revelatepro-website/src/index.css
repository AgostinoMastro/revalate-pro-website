@import url('https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Alpha Studio refined color palette */
  --pastel-blue: #94C7CC;      /* PANTONE 5445 C */
  --black-olive: #343A3A;      /* PANTONE 447 C */
  --air-black: #111111;        /* PANTONE BLACK 6 C */
  --dark-liver: #4D4D4D;       /* PANTONE 7540 C */
  --gray-x11: #B7BABB;         /* PANTONE COOL GRAY 4 C */

  /* Semantic color variables for dark theme */
  --brand-primary: #94C7CC;     /* Pastel Blue for buttons and accents */
  --brand-secondary: #343A3A;   /* Black Olive for secondary elements */
  --text-primary: #B7BABB;      /* Light gray for primary text */
  --text-secondary: #4D4D4D;    /* Dark liver for secondary text */
  --text-muted: #343A3A;        /* Black olive for muted text */
  --surface-primary: #111111;   /* Air Black background */
  --surface-secondary: #343A3A; /* Black Olive for cards */
  --surface-dark: #111111;      /* Air Black for dark surfaces */
  --border-light: #4D4D4D;      /* Dark liver for borders */
  --border-dark: #343A3A;       /* Black olive for dark borders */
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply text-text-primary font-sans antialiased;
    background: linear-gradient(135deg,
      var(--surface-primary) 0%,
      rgba(148, 199, 204, 0.03) 15%,
      var(--surface-secondary) 35%,
      rgba(148, 199, 204, 0.05) 50%,
      var(--surface-secondary) 65%,
      rgba(148, 199, 204, 0.03) 85%,
      var(--surface-primary) 100%);
    min-height: 100vh;
    color: var(--text-primary);
    position: relative;

    /* Mobile-first optimizations */
    font-size: 16px; /* Prevent zoom on iOS */
    line-height: 1.6; /* Better mobile readability */
    text-size-adjust: 100%; /* Prevent text scaling */
    -webkit-text-size-adjust: 100%;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;

    /* Mobile scroll behavior */
    overflow-x: hidden;
    -webkit-overflow-scrolling: touch;
  }

  html {
    scroll-behavior: smooth;
    scroll-padding-top: 80px; /* Account for sticky header */

    /* Mobile scroll optimizations */
    -webkit-tap-highlight-color: transparent; /* Remove tap highlight */
    -ms-touch-action: manipulation; /* IE touch optimization */
    touch-action: manipulation; /* Disable double-tap zoom */
  }

  /* Optimize animations for better mobile performance */
  * {
    will-change: auto;
  }

  /* Enhanced mobile motion preferences */
  @media (prefers-reduced-motion: reduce) {
    *,
    *::before,
    *::after {
      animation-duration: 0.01ms !important;
      animation-iteration-count: 1 !important;
      transition-duration: 0.01ms !important;
      scroll-behavior: auto !important;
    }
  }

  /* Mobile-specific performance optimizations */
  @media (max-width: 640px) {
    * {
      /* Reduce GPU usage on mobile */
      transform: translateZ(0);
      backface-visibility: hidden;
      perspective: 1000px;
    }

    /* Optimize text rendering for mobile */
    body {
      text-rendering: optimizeSpeed;
    }
  }
}

/* ========================================
   MOBILE CONTACT MODAL ENHANCEMENTS
   ======================================== */

/* Safe area padding for mobile devices */
.pb-safe {
  padding-bottom: env(safe-area-inset-bottom, 1rem);
}

.pt-safe {
  padding-top: env(safe-area-inset-top, 1rem);
}

/* Mobile-specific additional bottom padding to ensure full form access */
@media (max-width: 640px) {
  .pb-safe {
    padding-bottom: max(env(safe-area-inset-bottom, 1rem), 6rem) !important;
  }
}

/* Touch manipulation for better mobile interaction */
.touch-manipulation {
  touch-action: manipulation;
  -webkit-tap-highlight-color: transparent;
}

/* Mobile modal specific styles */
@media (max-width: 640px) {
  .mobile-modal-full {
    width: 100vw !important;
    height: 100vh !important;
    max-width: 100vw !important;
    max-height: 100vh !important;
    border-radius: 0 !important;
    border: none !important;
  }

  .mobile-sticky-header {
    position: sticky;
    top: 0;
    z-index: 50;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  .mobile-sticky-tabs {
    position: sticky;
    top: 73px; /* Header height */
    z-index: 40;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
  }

  .mobile-sticky-nav {
    position: sticky;
    bottom: 0;
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    border-top: 1px solid rgba(75, 85, 99, 0.3);
  }

  /* Mobile scroll container for form content */
  .mobile-scroll-container {
    position: relative;
    height: 100%;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
    /* Ensure smooth scrolling on mobile */
    scroll-behavior: smooth;
  }

  /* Enhanced mobile form inputs */
  .mobile-form-input {
    font-size: 16px !important; /* Prevent iOS zoom */
    padding: 1rem !important;
    border-radius: 0.75rem !important;
    transition: all 0.2s ease-in-out;
  }

  .mobile-form-input:focus {
    transform: translateY(-1px);
    box-shadow: 0 4px 12px rgba(148, 199, 204, 0.3) !important;
  }

  /* Mobile checkbox enhancement */
  .mobile-checkbox-wrapper {
    padding: 0.75rem;
    border-radius: 0.75rem;
    transition: all 0.2s ease-in-out;
    cursor: pointer;
  }

  .mobile-checkbox-wrapper:active {
    transform: scale(0.98);
    background-color: rgba(52, 58, 58, 0.7);
  }
}

/* ========================================
   MOBILE ORIENTATION HANDLING
   ======================================== */

/* Fix for mobile orientation change layout issues */
html, body {
  width: 100%;
  overflow-x: hidden;
}

/* Prevent layout shifts during orientation changes */
@media screen and (max-width: 768px) {
  body {
    /* Force recalculation of layout after orientation change */
    width: 100vw !important;
    min-width: 100vw !important;
    max-width: 100vw !important;
    position: relative;
  }

  /* Ensure main container takes full width */
  #root {
    width: 100% !important;
    min-width: 100% !important;
    max-width: 100% !important;
    overflow-x: hidden;
  }

  /* Fix container width issues after orientation change */
  .container {
    width: 100% !important;
    max-width: 100% !important;
  }
}

/* Handle orientation change events with CSS */
@media screen and (orientation: landscape) and (max-height: 500px) {
  /* Landscape mobile adjustments */
  body {
    width: 100vw !important;
    overflow-x: hidden;
  }
}

@media screen and (orientation: portrait) and (max-width: 768px) {
  /* Portrait mobile adjustments */
  body {
    width: 100vw !important;
    overflow-x: hidden;
  }
}

/* Enhanced mobile touch targets */
@media (max-width: 640px) {
  .min-h-touch {
    min-height: 48px !important; /* Slightly larger for mobile */
  }

  .min-w-touch {
    min-width: 48px !important;
  }

  /* Mobile button enhancements */
  button.touch-manipulation {
    min-height: 48px;
    padding: 0.875rem 1.5rem;
    font-size: 1rem;
    line-height: 1.5;
  }

  /* Mobile-specific animations */
  .mobile-press-animation:active {
    transform: scale(0.98);
    transition: transform 0.1s ease-in-out;
  }

  /* Improved mobile scrolling */
  .mobile-scroll-smooth {
    -webkit-overflow-scrolling: touch;
    overscroll-behavior: contain;
  }
}

/* Mobile form validation styles */
.mobile-form-error {
  font-size: 0.875rem;
  line-height: 1.4;
  margin-top: 0.5rem;
  padding: 0.5rem 0.75rem;
  background: rgba(239, 68, 68, 0.1);
  border-radius: 0.5rem;
  border-left: 3px solid #ef4444;
}

/* Mobile success animation */
@keyframes mobile-success-bounce {
  0%, 20%, 53%, 80%, 100% {
    transform: translate3d(0, 0, 0);
  }
  40%, 43% {
    transform: translate3d(0, -8px, 0);
  }
  70% {
    transform: translate3d(0, -4px, 0);
  }
  90% {
    transform: translate3d(0, -2px, 0);
  }
}

.mobile-success-icon {
  animation: mobile-success-bounce 1s ease-in-out;
}

/* Enhanced viewport management for all devices */
.mobile-scroll-container {
  /* Optimize scrolling performance */
  will-change: scroll-position;
  contain: layout style paint;

  /* Smooth momentum scrolling */
  -webkit-overflow-scrolling: touch;
  overscroll-behavior: contain;

  /* Better scroll bar styling */
  scrollbar-width: thin;
  scrollbar-color: rgba(148, 199, 204, 0.4) transparent;

  /* Ensure proper mobile scrolling */
  overflow-y: auto !important;
  max-height: 100%;
}

.mobile-scroll-container::-webkit-scrollbar {
  width: 6px;
}

.mobile-scroll-container::-webkit-scrollbar-track {
  background: transparent;
}

.mobile-scroll-container::-webkit-scrollbar-thumb {
  background: rgba(148, 199, 204, 0.4);
  border-radius: 3px;
}

/* Mobile-specific scrolling fixes */
@media (max-width: 640px) {
  .mobile-scroll-container {
    /* Force scrolling on mobile */
    overflow-y: scroll !important;
    -webkit-overflow-scrolling: touch !important;
    height: auto !important;
    max-height: calc(100vh - 120px) !important; /* Reduced constraint for more scrolling room */
  }
}
